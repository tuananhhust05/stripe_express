<!DOCTYPE html>
<html lang="en">
  <%- include('partials/head', { title }) %>
  <body class="landing">
    <div class="cursor-glow" aria-hidden="true"></div>
    <header class="nav">
      <div class="nav__inner">
        <a class="nav__brand" href="/">
          <span class="nav__wordmark">Shadow Link</span>
          <!-- <span class="nav__badge">MONSTER</span> -->
        </a>
        <nav class="nav__items" aria-label="Primary navigation">
          <a href="#features">Features</a>
          <a href="#troubleshooting">Security</a>
          <a href="#pricing">Pricing</a>
        </nav>
        <a class="btn ghost nav__cta" href="/payment">Get Access</a>
        <button class="nav__menu" aria-label="Toggle navigation" aria-expanded="false">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>
      <div class="nav__drawer" role="dialog" aria-label="Mobile navigation">
        <div class="nav__drawer-inner">
          <a href="#features">Features</a>
          <a href="#troubleshooting">Security</a>
          <a href="#pricing">Pricing</a>
          <a href="#faq">FAQ</a>
          <a class="btn primary full" href="/payment">Get Access</a>
        </div>
      </div>
    </header>

    <main>
      <section id="home" class="hero hero--dense">
        <div class="hero__bg" aria-hidden="true"></div>
        <div class="hero__grid">
          <div class="hero__content" data-motion>
            <div class="hero__badge">Stealth-grade browsing</div>
            <h1>Keep research, AI, and gestures one glance away.</h1>
            <p class="lede">
              Shadow Link stays above every app so you can check facts, capture screens, and command AI without interrupting your flow.
            </p>
            <ul class="hero__highlights">
              <li>Native AI baked in for instant context.</li>
              <li>Gesture + hotkey control tailored to you.</li>
              <li>Capture &amp; Solve pipeline with OCR + screenshots.</li>
            </ul>
            <div class="hero__actions">
              <a class="btn primary" href="/payment">Activate Shadow Link</a>
              <button type="button" class="btn ghost" onclick="window.location='#features'">Explore features</button>
            </div>
          </div>
          <div class="hero__visual" data-motion>
            <div class="hero__frame">
              <div class="status-card" data-glow>
                <div class="status-card__glow" aria-hidden="true"></div>
                <div class="status-card__header">
                  <p class="status-card__eyebrow">Shadow Mesh</p>
                  <span class="status-pill live">Live</span>
                </div>
                <div class="status-card__body">
                  <dl class="metric">
                    <dt>Current route</dt>
                    <dd class="metric-route">OSLO &rarr; LISBON &rarr; SINGAPORE</dd>
                  </dl>
                  <dl class="metric">
                    <dt>Packet integrity</dt>
                    <dd class="metric--accent" data-count="99.998" data-decimals="3" data-suffix="%">0%</dd>
                  </dl>
                  <dl class="metric">
                    <dt>Latency</dt>
                    <dd data-count="32" data-decimals="0" data-suffix=" ms">0 ms</dd>
                  </dl>
                </div>
              </div>
              <!-- <div class="hero__stats" data-motion>
                <div>
                  <p class="stat-value">3 sec</p>
                  <p class="stat-label">Capture &amp; solve</p>
                </div>
                <div>
                  <p class="stat-value">0%</p>
                  <p class="stat-label">Focus loss</p>
                </div>
                <div>
                  <p class="stat-value">24/7</p>
                  <p class="stat-label">Floating support</p>
                </div>
              </div> -->
            </div>
          </div>
        </div>
      </section>

      <section id="features" class="feature-grid">
        <div class="feature-card" data-motion>
          <h3>Native AI Support</h3>
          <p>Integrated AI capabilities to enhance your browsing experience and productivity.</p>
        </div>
        <div class="feature-card" data-motion>
          <h3>Text Sequence Hotkeys</h3>
          <p>Create powerful custom hotkeys to automate frequently used browsing actions.</p>
        </div>
        <div class="feature-card" data-motion>
          <h3>Gestures</h3>
          <p>Intuitive gesture controls for bringing up AI, screenshots, and more with a flick.</p>
        </div>
        <div class="feature-card" data-motion>
          <h3>Screenshots</h3>
          <p>Capture screens instantly with hotkeys and copy them to clipboard or AI.</p>
        </div>
        <div class="feature-card" data-motion>
          <h3>Capture &amp; Solve</h3>
          <p>Instantly capture your screen, send to AI, and receive step-by-step solutions.</p>
        </div>
        <div class="feature-card" data-motion>
          <h3>Always On Top</h3>
          <p>Keep your browser window floating above all applications without stealing focus.</p>
        </div>
      </section>

      <section id="troubleshooting" class="roadmap">
        <div class="section-header align-left">
          <p class="eyebrow">Development Roadmap</p>
          <h2>What’s live and what’s coming next</h2>
        </div>
        <div class="roadmap-grid">
        <div class="roadmap-column" data-motion>
          <p class="eyebrow">Completed Features</p>
          <h2>Already live inside Shadow Link</h2>
          <ul>
            <li>All FloatBrowser features included</li>
            <li>Config to show / hide menu bar icon</li>
            <li>Hide timers in menu bar</li>
            <li>Gesture controls</li>
            <li>Screenshot and auto copy</li>
            <li>On-device OCR with auto copy</li>
            <li>Lifetime Pro License support</li>
          </ul>
        </div>
        <div class="roadmap-column" data-motion>
          <p class="eyebrow">Coming Soon</p>
          <h2>Exciting updates in development</h2>
          <ul>
            <li>Text sequence hotkeys</li>
            <li>Native AI support</li>
            <li>Capture and Solve automation</li>
          </ul>
        </div>
        </div>
      </section>

      <section id="pricing" class="pricing">
        <div class="section-header">
          <p class="eyebrow">Choose Your Plan</p>
          <h2>Choose Your Plan</h2>
        </div>
        <div class="plan-grid">
          <div class="plan-card" data-motion>
            <p class="badge">One Month Usage</p>
            <h3 class="plan-price">$<%= plans.monthly.price %></h3>
            <p class="plan-desc">Always-on-top floating browser window with distraction-free workflow integration.</p>
            <ul>
              <li>Basic hotkey functionality</li>
              <li>Gesture controls</li>
              <li>Screenshot functionality</li>
              <li>On-device OCR text copy</li>
            </ul>
            <a class="btn primary full" href="/payment?plan=monthly">Purchase</a>
            <p class="note">Need help? support@shadow.link</p>
          </div>
          <div class="plan-card highlighted" data-motion>
            <p class="badge recommended">Recommended</p>
            <h3 class="plan-price">$<%= plans.lifetime.price %></h3>
            <p class="plan-label">Lifetime License</p>
            <ul>
              <li>Complete ownership — yours forever</li>
              <li>Free updates for lifetime</li>
              <li>Complete feature set unlocked</li>
              <li>All future premium features</li>
            </ul>
            <a class="btn primary full" href="/payment?plan=lifetime">Get Lifetime Access</a>
            <p class="note">Didn't receive the license mail? Check spam folder.</p>
          </div>
        </div>
      </section>

      <section id="subscription" class="steps">
        <div class="section-header">
          <p class="eyebrow">Setup Steps</p>
          <h2>Getting started takes minutes</h2>
        </div>
        <div class="step-grid">
          <div class="step-card" data-motion>
            <span class="step-number">1</span>
            <h3>Choose the plan and purchase the license</h3>
            <p>Select the plan that best fits your needs and complete a secure Stripe checkout.</p>
          </div>
          <div class="step-card" data-motion>
            <span class="step-number">2</span>
            <h3>Receive license + download link</h3>
            <p>Check your inbox (or spam) for your activation code and download instructions.</p>
          </div>
        </div>
      </section>

      <section id="faq" class="faq">
        <div class="section-header">
          <p class="eyebrow">Frequently Asked Questions</p>
          <h2>Answers for everything else</h2>
        </div>
        <div class="faq-grid">
          <div class="faq-item" data-motion>
            <h3>Is Shadow Link available for Windows or Linux?</h3>
            <p>Currently macOS only. Cross-platform support is on the long-term roadmap.</p>
          </div>
          <div class="faq-item" data-motion>
            <h3>Can I use it on multiple computers?</h3>
            <p>Licenses are tied to your activation code. Contact support for multi-seat options.</p>
          </div>
          <div class="faq-item" data-motion>
            <h3>How do I get support?</h3>
            <p>Email support@shadow.link for help. We usually respond within 24 hours.</p>
          </div>
          <div class="faq-item" data-motion>
            <h3>Do you offer trials?</h3>
            <p>Trials are not available yet, but we offer a straightforward refund policy.</p>
          </div>
          <div class="faq-item" data-motion>
            <h3>Can I get discounts for multiple licenses?</h3>
            <p>Yes, reach out with your use case and we will craft a bulk offer.</p>
          </div>
          <div class="faq-item" data-motion>
            <h3>How do I cancel subscriptions or request refunds?</h3>
            <p>Email support@shadow.link with your order ID. We’re happy to help.</p>
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="footer__content">
        <div class="footer__brand">
          <h3 class="footer__title">Shadow Link</h3>
          <p class="footer__tagline">Shadow Link — always-on-top browsing with native AI.</p>
          <div class="footer__social">
            <a href="https://twitter.com" target="_blank" rel="noopener noreferrer" aria-label="Twitter">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
              </svg>
            </a>
            <a href="https://github.com" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
              </svg>
            </a>
            <a href="https://discord.com" target="_blank" rel="noopener noreferrer" aria-label="Discord">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03z"/>
              </svg>
            </a>
          </div>
        </div>
        <div class="footer__links">
          <div class="footer__column">
            <h4>Product</h4>
            <a href="#home">Home</a>
            <a href="#features">Features</a>
            <a href="#pricing">Pricing</a>
            <a href="/payment">Purchase</a>
          </div>
          <div class="footer__column">
            <h4>Support</h4>
            <a href="#troubleshooting">Troubleshooting</a>
            <a href="#subscription">Subscription Management</a>
            <a href="/transactions">Transactions</a>
            <a href="mailto:support@shadow.link">support@shadow.link</a>
          </div>
          <div class="footer__column">
            <h4>Legal</h4>
            <a href="/privacy">Privacy</a>
            <a href="/terms">Terms</a>
            <a href="/refund">Refunds</a>
          </div>
        </div>
      </div>
      <div class="footer__bottom">
        <p>© <%= new Date().getFullYear() %> Shadow Link. All rights reserved.</p>
        <p class="footer__muted">Always-on-top browser with AI • Built for macOS</p>
      </div>
    </footer>

    <script>
      (() => {
        const toggle = document.querySelector('.nav__menu');
        const drawer = document.querySelector('.nav__drawer');
        if (!toggle || !drawer) return;
        const close = () => {
          document.body.classList.remove('nav-open');
          toggle.setAttribute('aria-expanded', 'false');
        };
        toggle.addEventListener('click', () => {
          const isOpen = document.body.classList.toggle('nav-open');
          toggle.setAttribute('aria-expanded', String(isOpen));
        });
        drawer.querySelectorAll('a').forEach((link) => {
          link.addEventListener('click', close);
        });
        document.addEventListener('click', (event) => {
          if (!drawer.contains(event.target) && !toggle.contains(event.target)) {
            close();
          }
        });
        window.addEventListener('resize', () => {
          if (window.innerWidth > 1024) {
            close();
          }
        });
      })();
    </script>
    <script>
      (() => {
        const motionTargets = document.querySelectorAll('[data-motion]');
        const reduceMotion = window.matchMedia('(prefers-reduced-motion: reduce)');
        const statusCard = document.querySelector('.status-card[data-glow]');
        const statusGlow = statusCard ? statusCard.querySelector('.status-card__glow') : null;
        const counterEls = document.querySelectorAll('[data-count]');
        const cursorGlow = document.querySelector('.cursor-glow');
        const finePointer = window.matchMedia('(pointer: fine)');
        let countersStarted = false;

        const animateCount = (el) => {
          const target = parseFloat(el.dataset.count || '0');
          const duration = Number(el.dataset.duration || 1500);
          const decimals = Number(el.dataset.decimals || 0);
          const suffix = el.dataset.suffix || '';
          const start = performance.now();

          const step = (now) => {
            const progress = Math.min((now - start) / duration, 1);
            const value = target * progress;
            el.textContent = `${value.toFixed(decimals)}${suffix}`;
            if (progress < 1) {
              requestAnimationFrame(step);
            }
          };

          requestAnimationFrame(step);
        };

        const startCounters = () => {
          if (countersStarted) return;
          countersStarted = true;
          counterEls.forEach((el) => animateCount(el));
        };

        if ('IntersectionObserver' in window && !reduceMotion.matches) {
          const observer = new IntersectionObserver(
            (entries) => {
              entries.forEach((entry) => {
                if (entry.isIntersecting) {
                  entry.target.classList.add('is-visible');
                  observer.unobserve(entry.target);
                }
              });
            },
            { threshold: 0.15 }
          );

          motionTargets.forEach((el) => observer.observe(el));
        } else {
          motionTargets.forEach((el) => el.classList.add('is-visible'));
        }

        if (statusCard && statusGlow && !reduceMotion.matches) {
          const moveGlow = (event) => {
            const rect = statusCard.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;
            statusGlow.style.left = `${x}px`;
            statusGlow.style.top = `${y}px`;
            statusCard.setAttribute('data-glow-active', 'true');
          };

          const hideGlow = () => {
            statusCard.removeAttribute('data-glow-active');
          };

          statusCard.addEventListener('pointermove', moveGlow);
          statusCard.addEventListener('pointerleave', hideGlow);

          if ('IntersectionObserver' in window) {
            const counterObserver = new IntersectionObserver(
              (entries) => {
                entries.forEach((entry) => {
                  if (entry.isIntersecting) {
                    startCounters();
                    counterObserver.disconnect();
                  }
                });
              },
              { threshold: 0.4 }
            );
            counterObserver.observe(statusCard);
          } else {
            startCounters();
          }
        } else {
          startCounters();
        }

        if (cursorGlow && finePointer.matches && !reduceMotion.matches) {
          const moveCursorGlow = (event) => {
            cursorGlow.style.opacity = '1';
            cursorGlow.style.left = `${event.clientX}px`;
            cursorGlow.style.top = `${event.clientY}px`;
          };

          const hideCursorGlow = () => {
            cursorGlow.style.opacity = '0';
          };

          document.addEventListener('pointermove', moveCursorGlow);
          document.addEventListener('pointerleave', hideCursorGlow);
        }
      })();
    </script>
  </body>
</html>

